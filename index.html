<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Faanzy Cloud â€“ Ultra Premium</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDJMMyA5TDMgMjNMMTYgMzBMMjkgMjNMMjkgOUwxNiAyWiIgZmlsbD0iIzAwOTFmZiIvPgo8L3N2Zz4K">
<style>
:root{--blue:#0091ff;--dark:#0e0e10;--grey:#121214;--glass:rgba(255,255,255,.08)}
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}
body{background:var(--dark);color:#fff}
header{background:rgba(255,255,255,.05);backdrop-filter:blur(10px);display:flex;align-items:center;padding:20px 40px;border-bottom:1px solid var(--glass)}
.logo{display:flex;align-items:center;font-size:26px;font-weight:800;color:var(--blue)}
.logo img{height:38px;margin-right:10px}
main{max-width:1200px;margin:50px auto;padding:0 30px}
.toolbar{background:rgba(255,255,255,.04);padding:20px 30px;border-radius:14px;display:flex;justify-content:space-between;align-items:center;margin-bottom:40px;font-size:15px;font-weight:500}
table{width:100%;border-collapse:collapse;background:rgba(255,255,255,.04);border-radius:14px;overflow:hidden;box-shadow:0 8px 30px rgba(0,0,0,.35)}
thead{background:rgba(255,255,255,.08);font-weight:600;font-size:15px}
th,td{padding:20px 25px;text-align:left;font-size:15px}
tbody tr:hover{background:rgba(255,255,255,.06)}
.fileName{display:flex;align-items:center}
.fileIcon{width:46px;height:46px;margin-right:16px}
.btnDownload{background:linear-gradient(135deg,var(--blue),#0077e5);color:#fff;border:none;padding:11px 26px;border-radius:8px;font-size:14px;cursor:pointer;font-weight:700;transition:.2s}
.btnDownload:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,119,229,.6)}
.btnDownload:disabled{background:#444}
/* modal */
.modalBg{position:fixed;inset:0;background:rgba(0,0,0,.65);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:9999;animation:fadeIn .4s ease}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.modalBox{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);border-radius:22px;padding:50px 60px;max-width:480px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,.4);animation:slideUp .5s ease}
@keyframes slideUp{from{transform:translateY(60px);opacity:0}to{transform:translateY(0);opacity:1}}
.modalBox h3{font-size:28px;margin-bottom:15px}
.modalBox p{font-size:16px;color:#ccc;margin-bottom:25px}
.task{display:flex;align-items:center;justify-content:space-between;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:16px 20px;margin:12px 0;font-size:15px}
.task .label{display:flex;align-items:center}
.task .label img{width:24px;height:24px;margin-right:12px}
.verifyBtn{background:linear-gradient(135deg,var(--blue),#0077e5);color:#fff;border:none;padding:12px 28px;border-radius:10px;font-size:16px;cursor:pointer;font-weight:700;margin-top:25px}
.verifyBtn:disabled{background:#444}
.hidden{display:none}
</style>
</head>
<body>
<header>
  <div class="logo">
    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwIDJMNSAxMUw1IDI5TDIwIDM4TDM1IDI5TDM1IDExTDIwIDJaIiBmaWxsPSIjMDA5MWZmIi8+CjxwYXRoIGQ9Ik0yMCAxMFYxOEwyNiAyMkwyMCAxMFoiIGZpbGw9IiNmZmYiLz4KPHBhdGggZD0iTTE0IDIwTDIwIDEwTDIwIDMwTDE0IDIwWiIgZmlsbD0iI2ZmZiIvPgo8L3N2Zz4K" alt="">
    Faanzy Cloud
  </div>
</header>

<main>
  <div class="toolbar">
    <span>Your uploaded files</span>
    <small>Upload via GitHub â†’ folder <strong>/files</strong></small>
  </div>

  <table>
    <thead>
      <tr>
        <th width="50%">Name</th>
        <th width="15%">Size</th>
        <th width="20%">Upload Date</th>
        <th width="15%">Download</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>
</main>

<!-- MODAL LOCK -->
<div id="modal" class="modalBg hidden">
  <div class="modalBox">
    <h3>ðŸ”“ Unlock File</h3>
    <p>Selesaikan tugas berikut untuk mendapatkan akses download:</p>

    <div class="task">
      <div class="label">
        <img src="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome/svgs/brands/instagram.svg">
        <span>Follow Instagram</span>
      </div>
      <button class="verifyBtn" onclick="verifyTask('ig')">Verify</button>
    </div>

    <div class="task">
      <div class="label">
        <img src="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome/svgs/brands/whatsapp.svg">
        <span>Join Channel WhatsApp</span>
      </div>
      <button class="verifyBtn" onclick="verifyTask('wa')">Verify</button>
    </div>

    <div class="task">
      <div class="label">
        <img src="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome/svgs/brands/youtube.svg">
        <span>Subscribe YouTube</span>
      </div>
      <button class="verifyBtn" onclick="verifyTask('yt')">Verify</button>
    </div>

    <button id="finalDownload" class="verifyBtn" disabled>Download</button>
  </div>
</div>

<script>
const OWNER = 'faanzylosttt'; // GANTI
const REPO  = 'faanzy-cloud';
const PATH  = 'files';

let downloadUrl = '';
const tasks = {ig:false,wa:false,yt:false};

// LOAD FILE LIST
fetch(`https://api.github.com/repos/${OWNER}/${REPO}/contents/${PATH}`)
  .then(r=>r.json())
  .then(data=>{
    const rows = data.filter(f=>f.type==='file').map(f=>{
      const kb = f.size/1024;
      const size = kb>1024 ? (kb/1024).toFixed(2)+' MB' : kb.toFixed(1)+' KB';
      const date = new Date().toLocaleDateString('id-ID');
      return `
        <tr>
          <td class="fileName">
            <img class="fileIcon" src="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome/svgs/solid/file.svg">
            ${f.name}
          </td>
          <td>${size}</td>
          <td>${date}</td>
          <td><button class="btnDownload" onclick="openModal('${f.download_url}')">Download</button></td>
        </tr>`;
    }).join('');
    document.getElementById('tbody').innerHTML = rows;
  });

function openModal(url){
  downloadUrl = url;
  // reset task status
  Object.keys(tasks).forEach(k=>tasks[k]=false);
  document.querySelectorAll('.verifyBtn').forEach(b=>b.disabled=false);
  document.getElementById('finalDownload').disabled=true;
  document.getElementById('modal').classList.remove('hidden');
}

function verifyTask(type){
  // SIMULASI CEPAT (real: panggil API publik / backend)
  tasks[type]=true;
  event.target.textContent='âœ… Done';
  event.target.disabled=true;
  checkAllDone();
}

function checkAllDone(){
  const all = tasks.ig && tasks.wa && tasks.yt;
  document.getElementById('finalDownload').disabled = !all;
}

document.getElementById('finalDownload').addEventListener('click',()=>{
  document.getElementById('modal').classList.add('hidden');
  window.location.href = downloadUrl;
});
</script>
</body>
</html>
